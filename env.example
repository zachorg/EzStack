# ---------------- LOCAL DEVELOPMENT --------------------

# Service ports
PORT_EZSTACK=8080
PORT_EZAUTH=8081

# FOR DEV TESTING SCRIPTS
EZAUTH_API_KEY=

# Redis (required)
REDIS_URL=redis://redis:6379

# ---------------- FIREBASE --------------------

# Firebase service account is read from: secrets/ezstack-service-account.json
# Place your Firebase Admin SDK service account JSON file there

# Firebase client config (required for the frontend)
# Get these values from Firebase Console → Project Settings → General → Your apps → Web app
NEXT_PUBLIC_FIREBASE_API_KEY=your-web-api-key-here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-firebase-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef123456

# ---------------- API SECURITY --------------------

# API key hashing pepper (required)
FASTIFY_PUBLIC_APIKEY_PEPPER=change_me

# API key caching
APIKEY_CACHE_TTL_MS=30000
APIKEY_REDIS_TTL_SEC=60

# Auth fail-safe per service (if true, allows previously cached entries when introspection is unreachable)
AUTH_FAIL_SAFE_EZSTACK=false
AUTH_FAIL_SAFE_EZAUTH=false

# ---------------- EMAIL & SMS --------------------

# Email configuration (required for OTE)
EMAIL_FROM=no-reply@example.com
EMAIL_DRY_RUN=true

# For OTP via SMS or generic OTP testing, echo codes to logs locally
OTP_DRY_RUN=true

# AWS configuration (needed for SNS SMS and SES email)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-key-here
# Alternative: FASTIFY_PUBLIC_AWS_* variants also supported
FASTIFY_PUBLIC_AWS_REGION=us-east-1
FASTIFY_PUBLIC_AWS_ACCESS_KEY_ID=your-aws-access-key-here
FASTIFY_PUBLIC_AWS_SECRET_ACCESS_KEY=your-aws-secret-key-here
AWS_SES_ENDPOINT=
# For LocalStack testing, set AWS_SES_ENDPOINT=http://localhost:4566
# For production AWS, leave AWS_SES_ENDPOINT empty

# ---------------- OTP/OTE CONFIGURATION --------------------

# OTP/OTE defaults (optional; tenant settings can override per tenant)
OTP_TTL_SECONDS=300
OTP_LENGTH=6
OTP_MAX_ATTEMPTS=5
OTE_TTL_SECONDS=300
OTE_LENGTH=6
OTE_MAX_ATTEMPTS=5

# Rate limits (optional; tenant settings can override per tenant)
RESEND_COOLDOWN_SEC=30
DEST_PER_MINUTE=5
RATE_ROUTE_MAX=30

# ---------------- AWS SNS (SMS) --------------------

# SNS is now used for SMS OTP delivery
# Configure AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY above for SNS to work
# Set OTP_DRY_RUN=true for local testing (OTP codes will be logged instead of sent)

# ---------------- URLS & CORS --------------------

# Local URLs
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_SITE_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# ---------------- PRODUCTION DEPLOYMENT --------------------

# Production URLs (update these for your domain)
# NEXT_PUBLIC_API_BASE_URL=https://api.ezstack.app
# NEXT_PUBLIC_SITE_URL=https://ezstack.app
# CORS_ORIGIN=https://ezstack.app

# ---------------- STRIPE (OPTIONAL) --------------------

# Stripe configuration (only needed if using payment features)
# STRIPE_SECRET_KEY=sk_test_...
# PLAN_PRO_PRICE_ID=price_...
# PLAN_SCALE_PRICE_ID=price_...