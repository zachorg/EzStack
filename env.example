PORT_EZSTACK=8080
PORT_EZAUTH=8081

# FOR DEV TESTING SCRIPTS
EZAUTH_API_KEY=

# Redis (required)
REDIS_URL=redis://redis:6379

# Email (required for OTE)
EMAIL_FROM=no-reply@example.com
EMAIL_DRY_RUN=true
# For OTP via SMS or generic OTP testing, echo codes to logs locally
OTP_DRY_RUN=true
# Optional: point to LocalStack or custom endpoint
AWS_SES_ENDPOINT=

# OTP/OTE defaults (optional; tenant settings can override per tenant)
OTP_TTL_SECONDS=300
OTP_LENGTH=6
OTP_MAX_ATTEMPTS=5
OTE_TTL_SECONDS=300
OTE_LENGTH=6
OTE_MAX_ATTEMPTS=5

# Rate limits (optional; tenant settings can override per tenant)
RESEND_COOLDOWN_SEC=30
DEST_PER_MINUTE=5
RATE_ROUTE_MAX=30

# SQS (optional for now; leave blank to skip)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=__fill_if_using_real_aws__
AWS_SECRET_ACCESS_KEY=__fill_if_using_real_aws__
SQS_QUEUE_NAME=ez-send-queue
AWS_SQS_ENDPOINT= # e.g. http://localhost:4566 for LocalStack
SQS_ENABLE=false

# Firebase (optional - will use secrets/ezstack-service-account.json if not provided)
FIREBASE_PROJECT_ID=
# FIREBASE_SERVICE_ACCOUNT_KEY=  # Optional: JSON string, will use secrets/ezstack-service-account.json if not provided

# Next.js Firebase (required for the frontend)
# Get these values from Firebase Console → Project Settings → General → Your apps → Web app
NEXT_PUBLIC_FIREBASE_API_KEY=your-web-api-key-here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-firebase-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef123456
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# API key hashing pepper
# Provide a literal value or integrate your secret manager of choice
APIKEY_PEPPER=change_me

# Auth caching
APIKEY_CACHE_TTL_MS=30000
APIKEY_REDIS_TTL_SEC=60
# If true, allows previously cached entries when introspection upstream is unreachable
AUTH_FAIL_SAFE=false


# ---------------- PRODUCTION DEPLOYMENT --------------------

# Traefik & SSL Configuration (for production deployment only)
FRONTEND_HOST=ezstack.app
API_HOST=api.ezstack.app
AUTH_HOST=auth.ezstack.app
LETS_ENCRYPT_EMAIL=your-email@example.com

# Production URLs (update these for your domain)
NEXT_PUBLIC_API_BASE_URL=https://api.ezstack.app
NEXT_PUBLIC_SITE_URL=https://ezstack.app
CORS_ORIGIN=https://ezstack.app

# ---------------- SITE --------------------

# --- Stripe (Checkout) ---
STRIPE_SECRET_KEY=sk_test_...
PLAN_PRO_PRICE_ID=price_...
PLAN_SCALE_PRICE_ID=price_...